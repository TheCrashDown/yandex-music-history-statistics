# Yandex music history statistics

Скрипт, формирующий статистику прослушивания треков на я.музыке. Сама яндекс музыка статистику такую публично не ведет, только в декабре выкладывает плейлист твоих топ песен года. Этот скрипт формирует статистику сам, плюс показывает количество прослушивания, плюс мб еще что-нибудь добавлю  

В проекте используется библиотека [yandex-music-api](https://github.com/MarshalX/yandex-music-api) by MarshalX

## Disclaimer
Проект еще не дописан до конца, поэтому в нем могут содержаться критические и не очень баги, отсутствовать комментарии и какая-либо структура и читабельность кода

## Установка
```
git clone
pip install -r requirements.txt
```

## Использование
Для настройки проекта под себя будем редактировать файл `settings.py`

В папке sample_data лежат мои данные для теста, которые можно *(нужно)* удалить и заменить на свои

На данный момент скрипт не умеет сам собирать данные, их необходимо доставать руками. В браузере открываем консоль, вкладку network, жмем по кнопке история на яндекс музыке, смотрим на появившуюся строчку запроса в вкладке network, копируем ответ от сервера в json файл *(выглядеть он должен как файлы лежащие в семпле)*. Полученный файл помещаем в папку с проектом, и записываем путь до него в файл `settings.py` в массив `CACHED_DATA`

Для дальнейшего обновления статистики скачиваем новый файл, и помещаем путь до него в тот же самый массив `CACHED_DATA`. Важно: файлы должны идти *в хронологическом порядке*. Это нужно, чтобы скрипт корректно считал дублирующиеся в соседних файлах данные по одному разу и статистика не ломалась

После настройки запускаем `./script.sh` и наслаждаемся результатом в `result.txt`. Для пользователей винды можно вручную запустить `python3 yamstat.py`

## DONE
* Базовый функционал
* Скрипт умеет сшивать данные из разных файлов, убирая дублирующиеся данные на стыке файлов
* Начал приводить код в порядок

## TODO
* **(!!!)** Научить скрипт самостоятельно собирать данные
* _(мб)_ не использовать библиотеку yandexmusic-api, она нужна только в одном месте, которое можно и руками переписать
* _(мб)_ а мб использовать ее дальше и сделать автоматизацию сбора данных через нее как раз
